# üí¨ LanChat Server

**LanChat Server** ‚Äî —ç—Ç–æ –ª—ë–≥–∫–∏–π –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.  
–°–µ—Ä–≤–µ—Ä –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ **C++17**, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –Ω–∞ –¥–∏—Å–∫–µ –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–æ–≤ —Å –ø–æ–º–æ—â—å—é **AES-GCM**.  
–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ **Rust** –¥–ª—è –°–≤–∞–≥–∏.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üì° –ü–æ–¥–¥–µ—Ä–∂–∫–∞ TCP-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- üìú –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–ª—å—Ü–µ–≤–æ–º –±—É—Ñ–µ—Ä–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 200)
- üíæ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ñ–∞–π–ª `messages.log`
- üîí –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–∏—Å–∫ (AES-GCM, 256-–±–∏—Ç–Ω—ã–π –∫–ª—é—á)
- ‚öôÔ∏è –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ `server.ini`

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
CHAT_C-/
 ‚îú‚îÄ server/           # –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –Ω–∞ C++
 ‚îÇ   ‚îú‚îÄ src/
 ‚îÇ   ‚îÇ   ‚îú‚îÄ app/      # main.cpp (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
 ‚îÇ   ‚îÇ   ‚îú‚îÄ config/   # –∫–æ–Ω—Ñ–∏–≥ –∏ –ø–∞—Ä—Å–µ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
 ‚îÇ   ‚îÇ   ‚îú‚îÄ crypto/   # AES-GCM —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
 ‚îÇ   ‚îÇ   ‚îú‚îÄ hash/     # —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (FNV-1a)
 ‚îÇ   ‚îÇ   ‚îú‚îÄ net/      # —Å–µ—Ä–≤–µ—Ä, –ø—Ä–æ—Ç–æ–∫–æ–ª, —Å–æ–∫–µ—Ç—ã
 ‚îÇ   ‚îÇ   ‚îî‚îÄ storage/  # —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä
 ‚îÇ   ‚îî‚îÄ CMakeLists.txt
 ‚îú‚îÄ client/           # –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∫–ª–∏–µ–Ω—Ç –Ω–∞ Python
 ‚îÇ   ‚îî‚îÄ client.py
 ‚îú‚îÄ build/            # –ó–¥–µ—Å—å CMake —Å–æ–∑–¥–∞—ë—Ç –±–∏–Ω–∞—Ä–Ω–∏–∫–∏
 ‚îú‚îÄ installer.iss     # –°–∫—Ä–∏–ø—Ç Inno Setup –¥–ª—è —Å–±–æ—Ä–∫–∏ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞
 ‚îî‚îÄ README.md
```

---

## üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Windows)

1. **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä C++ –∏ SDK**  
   –£—Å—Ç–∞–Ω–æ–≤–∏ [Visual Studio Build Tools 2022](https://visualstudio.microsoft.com/visual-cpp-build-tools/)  
   —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π **Desktop development with C++** (MSVC + Windows SDK).

2. **CMake**
   ```powershell
   winget install Kitware.CMake
   ```

3. **VS Code + —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è**
   - [C/C++](https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools)
   - [CMake Tools](https://marketplace.visualstudio.com/items?itemName=ms-vscode.cmake-tools)

---

## üñ•Ô∏è –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

### üî® –°–±–æ—Ä–∫–∞ (Release)
```powershell
cmake --build build --config Release
```

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å:
```
CHAT_C-/build/Release/lanchat_server.exe
```

### ‚ñ∂ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```powershell
cd build/Release
.\lanchat_server.exe
```

–ï—Å–ª–∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞ ‚Äî –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É `Release` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å `.exe`.

---

## üß™ –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ (Python)

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É `client`:
   ```powershell
   cd client
   ```

2. –°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   ```powershell
   python -m venv venv
   .\venv\Scripts\Activate.ps1
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç:
   ```powershell
   python client.py --host 127.0.0.1 --port 5555 --user Alice
   ```

4. –î–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```powershell
   deactivate
   ```

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫
–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–±–æ—Ä–∫—É —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ —Å –ø–æ–º–æ—â—å—é **Inno Setup**.
- –°–∫—Ä–∏–ø—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `installer.iss`.
- –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –ø–æ–ª—É—á–∏—Ç—Å—è `dist/LanChatServerSetup.exe`, –∫–æ—Ç–æ—Ä—ã–π:
  - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å–µ—Ä–≤–µ—Ä –≤ `C:\Program Files\LanChat Server\`
  - —Å–æ–∑–¥–∞—Å—Ç –ø–∞–ø–∫—É –¥–∞–Ω–Ω—ã—Ö `C:\ProgramData\LanChatServer\`
  - –¥–æ–±–∞–≤–∏—Ç —è—Ä–ª—ã–∫ –≤ –º–µ–Ω—é ¬´–ü—É—Å–∫¬ª –∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é) –Ω–∞ —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª
  - –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## üåê –°–µ—Ç—å
–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ TCP-–ø–æ—Ä—Ç—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `5555`) –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–∞–º –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏:
- –ø–æ Wi-Fi (–æ–¥–Ω–∞ —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞)
- –ø–æ –∫–∞–±–µ–ª—é (–æ–¥–Ω–∞ –ø–æ–¥—Å–µ—Ç—å)
- —á–µ—Ä–µ–∑ VPN (–µ—Å–ª–∏ –≤ –æ–¥–Ω–æ–π –ø–æ–¥—Å–µ—Ç–∏)

–ö–ª–∏–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ IP-–∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–∞:
```bash
python client.py --host 192.168.1.50 --port 5555 --user Bob
```

---

## üîë –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `server.ini`
- –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ª–æ–≥–∞—Ö —à–∏—Ñ—Ä—É—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `GCM:IV:TAG:CT`
- –•—ç—à —Å–æ–æ–±—â–µ–Ω–∏–π (FNV-1a) —Ö—Ä–∞–Ω–∏—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ.
